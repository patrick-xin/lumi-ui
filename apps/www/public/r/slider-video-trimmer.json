{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "slider-video-trimmer",
  "title": "Video Trimmer",
  "description": "A video editing interface for trimming video clips. Features a timeline with draggable handles, a preview player, and export functionality.",
  "dependencies": [
    "lucide-react",
    "@base-ui/react"
  ],
  "registryDependencies": [
    "utils",
    "@lumi-ui/badge",
    "@lumi-ui/button",
    "@lumi-ui/card",
    "@lumi-ui/fieldset",
    "@lumi-ui/slider",
    "@lumi-ui/toast"
  ],
  "files": [
    {
      "path": "registry/components/slider-video-trimmer.tsx",
      "content": "\"use client\";\n\nimport { VideoIcon } from \"lucide-react\";\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Badge } from \"@/registry/ui/badge\";\nimport { Button } from \"@/registry/ui/button\";\nimport { Card, CardContent, CardFooter, CardHeader } from \"@/registry/ui/card\";\nimport { Fieldset } from \"@/registry/ui/fieldset\";\nimport {\n  SliderControl,\n  SliderIndicator,\n  SliderRoot,\n  SliderThumb,\n  SliderTrack,\n} from \"@/registry/ui/slider\";\nimport { toast } from \"@/registry/ui/toast\";\n\nconst TIMELINE_DURATION_SECONDS = 300;\nconst CLIP_LENGTH_LIMIT_SECONDS = 45;\nconst CUT_MARKERS = [22, 51, 88, 131, 176, 214, 263] as const;\n\nfunction formatTimestamp(totalSeconds: number) {\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n  return `${minutes}:${seconds.toString().padStart(2, \"0\")}`;\n}\n\nexport function VideoClipTrimmer() {\n  const [selection, setSelection] = React.useState<[number, number]>([48, 92]);\n\n  const clipDuration = selection[1] - selection[0];\n  const clipIsTooLong = clipDuration > CLIP_LENGTH_LIMIT_SECONDS;\n\n  return (\n    <Card className=\"w-full max-w-xl min-w-xl\">\n      <CardHeader className=\"flex items-start justify-between gap-4\">\n        <div className=\"space-y-1\">\n          <p className=\"text-sm font-medium text-muted-foreground\">\n            Clip Selection\n          </p>\n          <p className=\"text-xl font-semibold tracking-tight\">Interview Reel</p>\n        </div>\n        <Badge variant={clipIsTooLong ? \"secondary\" : \"default\"}>\n          {clipDuration}s selected\n        </Badge>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"grid grid-cols-2 gap-3 text-sm\">\n          <div className=\"space-y-1 rounded-md bg-muted/40 p-3\">\n            <p className=\"text-xs text-muted-foreground\">Start</p>\n            <p className=\"font-mono text-lg font-semibold\">\n              {formatTimestamp(selection[0])}\n            </p>\n          </div>\n          <div className=\"space-y-1 rounded-md bg-muted/40 p-3\">\n            <p className=\"text-xs text-muted-foreground\">End</p>\n            <p className=\"font-mono text-lg font-semibold\">\n              {formatTimestamp(selection[1])}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Fieldset\n            render={\n              <SliderRoot\n                aria-label=\"video-clip-trimmer\"\n                max={TIMELINE_DURATION_SECONDS}\n                min={0}\n                onValueChange={(nextSelection) => {\n                  if (\n                    !Array.isArray(nextSelection) ||\n                    nextSelection.length < 2\n                  ) {\n                    return;\n                  }\n                  setSelection([nextSelection[0], nextSelection[1]]);\n                }}\n                step={1}\n                thumbAlignment=\"edge\"\n                value={selection}\n              />\n            }\n          >\n            <SliderControl className=\"data-dragging:cursor-grab\">\n              <SliderTrack className=\"relative h-3 rounded-full bg-muted\">\n                <SliderIndicator className=\"h-full rounded-full bg-primary/80\" />\n                {CUT_MARKERS.map((marker) => {\n                  const position = (marker / TIMELINE_DURATION_SECONDS) * 100;\n                  const insideSelection =\n                    marker >= selection[0] && marker <= selection[1];\n\n                  return (\n                    <span\n                      aria-hidden\n                      className={cn(\n                        \"absolute top-1/2 h-4 w-px -translate-y-1/2 rounded transition-colors\",\n                        insideSelection\n                          ? \"bg-primary\"\n                          : \"bg-muted-foreground/40\",\n                      )}\n                      key={marker}\n                      style={{ left: `${position}%` }}\n                    />\n                  );\n                })}\n                <SliderThumb\n                  className=\"ring-border relative size-4 rounded-full bg-primary dark:bg-white transition-[color,box-shadow] hover:ring-3 focus-visible:ring-3 focus-visible:outline-hidden data-dragging:focus-within:ring-3 block shrink-0 select-none disabled:pointer-events-none disabled:opacity-50 cursor-grab data-dragging:focus-within:bg-primary\"\n                  index={0}\n                />\n                <SliderThumb\n                  className=\"ring-border relative size-4 rounded-full bg-primary dark:bg-white transition-[color,box-shadow] hover:ring-3 focus-visible:ring-3 focus-visible:outline-hidden data-dragging:focus-within:ring-3 block shrink-0 select-none disabled:pointer-events-none disabled:opacity-50 cursor-grab data-dragging:focus-within:bg-primary\"\n                  index={1}\n                />\n              </SliderTrack>\n            </SliderControl>\n          </Fieldset>\n\n          <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n            <span>0:00</span>\n            <span>{formatTimestamp(TIMELINE_DURATION_SECONDS)}</span>\n          </div>\n        </div>\n      </CardContent>\n      <CardFooter className=\"flex justify-between items-center\">\n        <p className={cn(\"text-sm text-muted-foreground\")}>\n          {clipIsTooLong\n            ? `Keep clips under ${CLIP_LENGTH_LIMIT_SECONDS}s for Shorts and Reels export.`\n            : \"Ready to export for Shorts and Reels.\"}\n        </p>\n        <Button\n          disabled={clipIsTooLong}\n          onClick={() => {\n            toast.promise(\n              new Promise<string>((resolve, reject) => {\n                const shouldSucceed = Math.random() > 0.5;\n                setTimeout(() => {\n                  if (shouldSucceed) {\n                    resolve(\"Video clip has been exported.\");\n                  } else {\n                    reject(new Error(\"Failed to export video clip.\"));\n                  }\n                }, 2000);\n              }),\n\n              {\n                error: (err: Error) => {\n                  return {\n                    actionProps: {\n                      children: \"Retry\",\n                      onClick: () => {\n                        toast.promise(\n                          new Promise<string>((resolve) => {\n                            setTimeout(() => {\n                              resolve(\"Video clip has been exported.\");\n                            }, 2000);\n                          }),\n                          {\n                            error: (err: Error) => {\n                              return {\n                                title: `Error: ${err.message}`,\n                              };\n                            },\n                            loading: { title: `Exporting video clip...` },\n                            success: (data: string) => {\n                              return {\n                                closable: true,\n                                description: data,\n                                title: \"Success\",\n                              };\n                            },\n                          },\n                        );\n                      },\n                    },\n                    title: `Error: ${err.message}`,\n                  };\n                },\n                loading: { title: `Exporting video clip...` },\n                success: (data: string) => {\n                  return {\n                    closable: true,\n                    description: data,\n                    title: \"Success\",\n                  };\n                },\n              },\n            );\n          }}\n          size=\"sm\"\n        >\n          <VideoIcon /> Export\n        </Button>\n      </CardFooter>\n    </Card>\n  );\n}\n",
      "type": "registry:component"
    }
  ],
  "meta": {
    "alignment": "center",
    "iframeHeight": 600
  },
  "categories": [
    "media",
    "form-input"
  ],
  "type": "registry:component"
}