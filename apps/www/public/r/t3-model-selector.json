{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "t3-model-selector",
  "type": "registry:component",
  "title": "T3 Chat Model Selector",
  "description": "A multi-tabbed popover for selecting items from categorized groups. Features vertical navigation, search filtering, and rich hover details. Inspired by T3 Chat.",
  "dependencies": [
    "lucide-react",
    "@base-ui/react",
    "@icons-pack/react-simple-icons"
  ],
  "registryDependencies": [
    "utils",
    "@lumi-ui/button",
    "@lumi-ui/dropdown-menu",
    "@lumi-ui/input",
    "@lumi-ui/label",
    "@lumi-ui/popover",
    "@lumi-ui/preview-card",
    "@lumi-ui/radio",
    "@lumi-ui/scroll-area",
    "@lumi-ui/separator",
    "@lumi-ui/tabs",
    "@lumi-ui/tooltip"
  ],
  "files": [
    {
      "path": "components/examples/components/t3-model-selector.tsx",
      "content": "\"use client\";\n\nimport {\n  SiAnthropic,\n  SiGoogle,\n  SiMeta,\n  SiOpenai,\n  SiX,\n} from \"@icons-pack/react-simple-icons\";\nimport { Button } from \"@lumi-ui/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@lumi-ui/ui/dropdown-menu\";\nimport { Input } from \"@lumi-ui/ui/input\";\nimport { Label } from \"@lumi-ui/ui/label\";\nimport { cn } from \"@lumi-ui/ui/lib/utils\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@lumi-ui/ui/popover\";\nimport {\n  createPreviewCardHandle,\n  PreviewCard,\n  PreviewCardContent,\n  PreviewCardTrigger,\n} from \"@lumi-ui/ui/preview-card\";\nimport { RadioGroup, RadioRoot } from \"@lumi-ui/ui/radio\";\nimport { ScrollArea } from \"@lumi-ui/ui/scroll-area\";\nimport { Separator } from \"@lumi-ui/ui/separator\";\nimport {\n  TabIndicator,\n  Tabs,\n  TabsList,\n  TabsPanel,\n  TabsTab,\n} from \"@lumi-ui/ui/tabs\";\nimport {\n  createTooltipHandle,\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@lumi-ui/ui/tooltip\";\nimport {\n  Brain,\n  Check,\n  ChevronDownIcon,\n  Eye,\n  FileText,\n  Filter,\n  Image as ImageIcon,\n  InfoIcon,\n  SlidersHorizontal,\n  StarIcon,\n  Wrench,\n  Zap,\n} from \"lucide-react\";\nimport React from \"react\";\n\nconst ModelDetailPopoverHandle = createPreviewCardHandle<ModelDetail>();\nconst ModelTooltipHandle = createTooltipHandle<Pick<ModelDetail, \"name\">>();\n\ntype ModelDetail = {\n  value: string;\n  name: string;\n  provider: string;\n  isStarred: boolean;\n  description: string;\n};\n\nexport const T3ModelSelector = () => {\n  const [selectedModel, setSelectedModel] = React.useState<ModelDetail | null>(\n    null,\n  );\n  const [open, setOpen] = React.useState(false);\n  const [searchQuery, setSearchQuery] = React.useState(\"\");\n\n  return (\n    <>\n      <TooltipProvider>\n        <Popover modal onOpenChange={setOpen} open={open}>\n          <PopoverTrigger\n            render={\n              <Button\n                aria-label=\"Select model\"\n                className=\"group justify-between data-[popup-open]:bg-primary/10 hover:bg-primary/10 bg-primary/5 w-48\"\n                variant=\"unstyled\"\n              >\n                {selectedModel?.name || \"Select a model\"}\n                <ChevronDownIcon className=\"group-data-[popup-open]:rotate-180 transition-transform\" />\n              </Button>\n            }\n          />\n          <PopoverContent className=\"flex flex-col p-0 w-80 sm:w-96 bg-background duration-300 h-[40dvh] max-h-[40dvh] overflow-hidden rounded-xl\">\n            <div className=\"flex-1 flex flex-col min-h-0\">\n              <div className=\"flex-none flex items-center justify-between p-1\">\n                <Label className=\"sr-only\" htmlFor=\"searchModel\">\n                  Search models\n                </Label>\n                <Input\n                  aria-label=\"Search models\"\n                  className=\"caret-primary\"\n                  id=\"searchModel\"\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  placeholder=\"Search models...\"\n                  value={searchQuery}\n                  variant=\"ghost\"\n                />\n                <FilterMenu />\n              </div>\n              <Separator />\n              <Tabs\n                className=\"flex-1 min-h-0 gap-0\"\n                defaultValue=\"starred\"\n                orientation=\"vertical\"\n              >\n                <TabsList className=\"rounded-none outline-none space-y-1.5 bg-background mx-1 my-2\">\n                  {PROVIDERS.map((provider) => (\n                    <TabsTab\n                      className=\"hover:text-foreground size-7\"\n                      key={provider.value}\n                      render={\n                        <TooltipTrigger\n                          handle={ModelTooltipHandle}\n                          payload={{ name: provider.name }}\n                        />\n                      }\n                      value={provider.value}\n                    >\n                      {provider.icon}\n                    </TabsTab>\n                  ))}\n\n                  <TabIndicator\n                    className={cn(\n                      \"rounded-md bg-primary/10\",\n                      \"data-[orientation=vertical]:left-1/2 data-[orientation=vertical]:-translate-x-1/2 data-[orientation=vertical]:top-0 data-[orientation=vertical]:translate-y-(--active-tab-top)\",\n                    )}\n                  />\n                </TabsList>\n\n                <Separator orientation=\"vertical\" />\n\n                {PROVIDERS.map((provider) => {\n                  const filteredModels = MODELS.filter((m) => {\n                    const matchesProvider =\n                      provider.value === \"starred\"\n                        ? m.isStarred\n                        : m.provider === provider.value;\n\n                    const matchesSearch = m.name\n                      .toLowerCase()\n                      .includes(searchQuery.toLowerCase());\n\n                    return matchesProvider && matchesSearch;\n                  });\n\n                  return (\n                    <TabsPanel\n                      aria-label={`${provider.name} models list`}\n                      className=\"flex-1 flex flex-col min-h-0 p-1\"\n                      key={provider.value}\n                      tabIndex={-1}\n                      value={provider.value}\n                    >\n                      <ScrollArea gradientScrollFade noScrollBar>\n                        {filteredModels.length > 0 ? (\n                          <RadioGroup\n                            className=\"flex flex-col gap-1\"\n                            onValueChange={(val: string) => {\n                              const model =\n                                MODELS.find((m) => m.value === val) ?? null;\n                              setSelectedModel(model);\n                            }}\n                            value={selectedModel?.value ?? \"\"}\n                          >\n                            {filteredModels.map((model) => {\n                              const labelId = `label-${model.value}`;\n                              const descId = `desc-${model.value}`;\n                              const isSelected =\n                                selectedModel?.value === model.value;\n\n                              return (\n                                <div\n                                  className={cn(\n                                    \"group relative flex items-center justify-between rounded-xl px-1 py-1 transition-all\",\n                                    isSelected\n                                      ? \"bg-primary/10 border-primary/20\"\n                                      : \"hover:bg-primary/5 border-transparent\",\n                                  )}\n                                  key={model.value}\n                                >\n                                  <RadioRoot\n                                    aria-describedby={descId}\n                                    aria-labelledby={labelId}\n                                    className=\"flex-1 flex items-center text-left outline-none cursor-pointer p-2 rounded-lg focus-visible:ring-2 focus-visible:ring-primary/20\"\n                                    onClick={() => setOpen(false)}\n                                    onKeyDown={(e) => {\n                                      if (e.key === \"Enter\") {\n                                        e.preventDefault();\n                                        setOpen(false);\n                                      }\n                                    }}\n                                    value={model.value}\n                                  >\n                                    <div className=\"flex flex-col gap-0.5 pointer-events-none\">\n                                      <div\n                                        className=\"font-semibold text-sm\"\n                                        id={labelId}\n                                      >\n                                        {model.name}\n                                      </div>\n                                      <div\n                                        className=\"text-xs text-muted-foreground\"\n                                        id={descId}\n                                      >\n                                        {model.description}\n                                      </div>\n                                    </div>\n                                  </RadioRoot>\n                                  <div className=\"flex-none pl-1\">\n                                    <PreviewCardTrigger\n                                      delay={300}\n                                      handle={ModelDetailPopoverHandle}\n                                      payload={model}\n                                      render={\n                                        <Button\n                                          className=\"opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 transition-opacity focus-visible:opacity-100\"\n                                          onClick={(e) => {\n                                            e.stopPropagation();\n                                          }}\n                                          size=\"icon-xs\"\n                                          variant=\"ghost\"\n                                        >\n                                          <InfoIcon className=\"size-4\" />\n                                          <span className=\"sr-only\">\n                                            Info for {model.name}\n                                          </span>\n                                        </Button>\n                                      }\n                                    />\n                                  </div>\n                                </div>\n                              );\n                            })}\n                          </RadioGroup>\n                        ) : (\n                          <div className=\"p-2 text-sm text-muted-foreground text-center\">\n                            No models found.\n                          </div>\n                        )}\n                      </ScrollArea>\n                    </TabsPanel>\n                  );\n                })}\n              </Tabs>\n            </div>\n          </PopoverContent>\n        </Popover>\n        <Tooltip handle={ModelTooltipHandle}>\n          {({ payload: model }) => (\n            <TooltipContent\n              className=\"bg-popover shadow-lg rounded-xl text-popover-foreground\"\n              showArrow={false}\n              side=\"left\"\n              sideOffset={1}\n            >\n              <p>{model?.name}</p>\n            </TooltipContent>\n          )}\n        </Tooltip>\n      </TooltipProvider>\n      <PreviewCard handle={ModelDetailPopoverHandle}>\n        {({ payload: model }) => {\n          return (\n            <PreviewCardContent\n              align=\"center\"\n              className=\"overscroll-contain\"\n              side=\"right\"\n            >\n              <div className=\"space-y-2\">\n                <div className=\"font-medium text-sm leading-none\">\n                  {model?.name}\n                </div>\n                <p className=\"text-sm text-muted-foreground\">\n                  {model?.description}\n                </p>\n              </div>\n            </PreviewCardContent>\n          );\n        }}\n      </PreviewCard>\n    </>\n  );\n};\n\nconst FilterMenu = () => {\n  const [filters, setFilters] = React.useState(FILTERS);\n  const activeCount = filters.filter((f) => f.checked).length;\n  const toggleFilter = (id: string) => {\n    setFilters((prev) =>\n      prev.map((item) =>\n        item.id === id ? { ...item, checked: !item.checked } : item,\n      ),\n    );\n  };\n\n  return (\n    <DropdownMenu modal>\n      <DropdownMenuTrigger\n        render={\n          <Button\n            aria-label={\n              activeCount > 0\n                ? `Filter (${activeCount} active)`\n                : \"Filter models\"\n            }\n            className=\"bg-secondary/50 hover:bg-secondary/80 text-secondary-foreground relative mr-4\"\n            size=\"icon-sm\"\n            variant=\"secondary\"\n          >\n            <Filter className=\"size-4\" />\n            {activeCount > 0 && (\n              <span className=\"absolute -top-1 -right-1 flex size-4 items-center justify-center rounded-full bg-primary text-primary-foreground text-[10px] font-bold shadow-sm ring-2 ring-background\">\n                {activeCount}\n              </span>\n            )}\n          </Button>\n        }\n      />\n\n      <DropdownMenuContent\n        align=\"end\"\n        className=\"w-70 p-2 bg-background border-border/40 text-popover-foreground shadow-xl rounded-2xl\"\n        matchAnchorWidth={false}\n        side=\"bottom\"\n      >\n        <div className=\"flex flex-col gap-1\">\n          {filters.map((item) => (\n            <DropdownMenuCheckboxItem\n              checked={item.checked}\n              className={cn(\n                \"group flex items-center justify-between w-full px-3 py-1 rounded-xl text-xs cursor-pointer transition-colors outline-none\",\n                item.checked\n                  ? \"bg-primary/5\"\n                  : \"hover:bg-primary/5 focus:bg-primary/5\",\n              )}\n              key={item.id}\n              onCheckedChange={() => toggleFilter(item.id)}\n            >\n              <div className=\"flex items-center gap-3\">\n                <div\n                  className={cn(\n                    \"flex items-center justify-center w-8 h-8 rounded-full transition-colors\",\n                    item.checked\n                      ? \"bg-primary/10 text-primary/50\"\n                      : \"bg-primary/5 text-muted-foreground\",\n                  )}\n                >\n                  {item.icon}\n                </div>\n                <span\n                  className={cn(\n                    item.checked ? \"text-foreground\" : \"text-muted-foreground\",\n                  )}\n                >\n                  {item.label}\n                </span>\n              </div>\n              {item.checked && <Check className=\"size-4 text-primary\" />}\n            </DropdownMenuCheckboxItem>\n          ))}\n        </div>\n        <DropdownMenuSeparator className=\"my-2 bg-border/40\" />\n        <DropdownMenuGroup>\n          <DropdownMenuItem\n            className=\"w-full px-3 py-2 rounded-xl text-xs cursor-pointer transition-colors text-muted-foreground hover:text-foreground hover:bg-primary/5 focus-visible:bg-primary/5\"\n            unstyled\n          >\n            Show combined results\n          </DropdownMenuItem>\n          <DropdownMenuItem\n            className=\"w-full px-3 py-2 rounded-xl text-xs cursor-pointer transition-colors text-muted-foreground hover:text-foreground hover:bg-primary/5 focus-visible:bg-primary/5\"\n            onClick={() =>\n              setFilters(filters.map((f) => ({ ...f, checked: false })))\n            }\n            unstyled\n          >\n            Clear filters\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n\nconst FILTERS = [\n  {\n    checked: false,\n    icon: <Zap className=\"size-4\" />,\n    id: \"fast\",\n    label: \"Fast\",\n  },\n  {\n    checked: false,\n    icon: <Eye className=\"size-4\" />,\n    id: \"vision\",\n    label: \"Vision\",\n  },\n  {\n    checked: false,\n    icon: <Brain className=\"size-4\" />,\n    id: \"reasoning\",\n    label: \"Reasoning\",\n  },\n  {\n    checked: true,\n    icon: <SlidersHorizontal className=\"size-4\" />,\n    id: \"effort\",\n    label: \"Effort Control\",\n  },\n  {\n    checked: true,\n    icon: <Wrench className=\"size-4\" />,\n    id: \"tool\",\n    label: \"Tool Calling\",\n  },\n  {\n    checked: true,\n    icon: <ImageIcon className=\"size-4\" />,\n    id: \"image\",\n    label: \"Image Generation\",\n  },\n  {\n    checked: false,\n    icon: <FileText className=\"size-4\" />,\n    id: \"pdf\",\n    label: \"PDF Comprehension\",\n  },\n];\nconst PROVIDERS = [\n  { icon: <StarIcon />, name: \"Favorites\", value: \"starred\" },\n  { icon: <SiOpenai />, name: \"OpenAI\", value: \"openai\" },\n  { icon: <SiAnthropic />, name: \"Anthropic\", value: \"anthropic\" },\n  { icon: <SiGoogle />, name: \"Google\", value: \"google\" },\n  { icon: <SiMeta />, name: \"Meta\", value: \"meta\" },\n  { icon: <SiX />, name: \"XAi\", value: \"xai\" },\n];\nconst MODELS = [\n  {\n    description:\n      \"Our high-intelligence flagship model for complex, multi-step tasks.\",\n    isStarred: true,\n    name: \"GPT-4o\",\n    provider: \"openai\",\n    value: \"gpt-4o\",\n  },\n  {\n    description: \"Fast, inexpensive model for simple tasks.\",\n    isStarred: false,\n    name: \"GPT-3.5 Turbo\",\n    provider: \"openai\",\n    value: \"gpt-3.5-turbo\",\n  },\n  {\n    description: \"Most powerful model for highly complex tasks.\",\n    isStarred: true,\n    name: \"Claude 3 Opus\",\n    provider: \"anthropic\",\n    value: \"claude-3-opus\",\n  },\n  {\n    description: \"Balance of intelligence and speed.\",\n    isStarred: true,\n    name: \"Claude 3.5 Sonnet\",\n    provider: \"anthropic\",\n    value: \"claude-3.5-sonnet\",\n  },\n  {\n    description:\n      \"Mid-size multimodal model that scales across a wide range of tasks.\",\n    isStarred: false,\n    name: \"Gemini 1.5 Pro\",\n    provider: \"google\",\n    value: \"gemini-1.5-pro\",\n  },\n  {\n    description: \"The most capable openly available LLM.\",\n    isStarred: false,\n    name: \"Llama 3 70B\",\n    provider: \"meta\",\n    value: \"llama-3-70b\",\n  },\n  {\n    description: \"A rebellious AI with a bit of wit.\",\n    isStarred: false,\n    name: \"Grok 1.5\",\n    provider: \"xai\",\n    value: \"grok-1.5\",\n  },\n];\n",
      "type": "registry:component"
    }
  ],
  "meta": {
    "alignment": "bottom-center",
    "iframeHeight": 500
  },
  "categories": [
    "form-input",
    "chat"
  ]
}