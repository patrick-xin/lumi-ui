{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "combobox",
  "type": "registry:ui",
  "title": "Combobox",
  "description": "An input combined with a list of predefined items to select.",
  "dependencies": [
    "@base-ui/react",
    "lucide-react"
  ],
  "registryDependencies": [
    "input",
    "utils"
  ],
  "files": [
    {
      "path": "registry/ui/combobox.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { Combobox as BaseCombobox } from \"@base-ui/react/combobox\";\nimport { Check, ChevronDown, X } from \"lucide-react\";\nimport type { VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\nimport { inputVariants } from \"@/registry/ui/input\";\n\nfunction Combobox<Value, Multiple extends boolean | undefined = false>({\n  children,\n  ...props\n}: BaseCombobox.Root.Props<Value, Multiple>) {\n  return (\n    <BaseCombobox.Root data-slot=\"combobox\" {...props}>\n      {children}\n    </BaseCombobox.Root>\n  );\n}\n\nfunction ComboboxValue({\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Value>) {\n  return <BaseCombobox.Value data-slot=\"combobox-value\" {...props} />;\n}\n\nfunction ComboboxIcon({\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Icon>) {\n  return <BaseCombobox.Icon data-slot=\"combobox-icon\" {...props} />;\n}\n\nfunction ComboboxInput({\n  className,\n  inputSize = \"default\",\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Input> & {\n  inputSize?: VariantProps<typeof inputVariants>[\"inputSize\"];\n  variant?: VariantProps<typeof inputVariants>[\"variant\"];\n}) {\n  return (\n    <BaseCombobox.Input\n      data-slot=\"combobox-input\"\n      className={cn(inputVariants({ inputSize, variant }), className)}\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxClear({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Clear>) {\n  return (\n    <BaseCombobox.Clear\n      data-slot=\"combobox-clear\"\n      className={cn(\"outline-none\", className)}\n      aria-label=\"Clear selection\"\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Trigger>) {\n  return (\n    <BaseCombobox.Trigger\n      data-slot=\"combobox-trigger\"\n      className={cn(\n        \"pointer-coarse:after:absolute pointer-coarse:after:min-h-10 pointer-coarse:after:min-w-10\",\n        className,\n      )}\n      aria-label=\"Open popup\"\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxChips({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Chips>) {\n  return (\n    <BaseCombobox.Chips\n      data-slot=\"combobox-chips\"\n      className={cn(\n        \"dark:bg-input/30 border border-input\",\n        \"p-1 min-h-8 [&_[data-slot=combobox-input]]:h-6\",\n        \"flex flex-wrap items-center gap-1.5 rounded-md shadow-xs\",\n        \"focus-within:border-ring/30 focus-within:ring-1 focus-within:ring-ring/10 focus-within:ring-offset-1 focus-within:ring-offset-ring/5\",\n        \"disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxChip({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Chip>) {\n  return (\n    <BaseCombobox.Chip\n      data-slot=\"combobox-chip\"\n      className={cn(\n        \"flex items-center gap-1 px-2 py-1 rounded-sm shadow-xs text-sm bg-secondary text-secondary-foreground outline-none cursor-default\",\n        \"focus-within:bg-secondary/80 focus-within:text-secondary-foreground/80\",\n        \"[@media(hover:hover)]:[&[data-highlighted]]:bg-secondary/80 [@media(hover:hover)]:[&[data-highlighted]]:text-secondary-foreground/80\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ComboboxChipRemove />\n    </BaseCombobox.Chip>\n  );\n}\n\nfunction ComboboxChipRemove({\n  className,\n  icon = <X />,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.ChipRemove> & {\n  icon?: React.ReactNode;\n}) {\n  return (\n    <BaseCombobox.ChipRemove\n      data-slot=\"combobox-chip-remove\"\n      className={cn(\n        \"p-1 inline-flex items-center justify-center bg-transparent hover:bg-accent text-inherit rounded-sm transition-colors\",\n        \"[&_svg:not([class*='size-'])]:size-3.5 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:text-muted-foreground\",\n        className,\n      )}\n      aria-label=\"Remove\"\n      {...props}\n    >\n      {icon}\n    </BaseCombobox.ChipRemove>\n  );\n}\n\nfunction ComboboxList({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.List>) {\n  return (\n    <BaseCombobox.List\n      data-slot=\"combobox-list\"\n      className={cn(\n        \"outline-0 py-1 data-[empty]:p-0\",\n        \"overflow-y-auto scroll-py-2 overscroll-contain\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxPortal({\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Portal>) {\n  return <BaseCombobox.Portal data-slot=\"combobox-portal\" {...props} />;\n}\n\nfunction ComboboxBackdrop({\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Backdrop>) {\n  return <BaseCombobox.Backdrop data-slot=\"combobox-backdrop\" {...props} />;\n}\n\nfunction ComboboxPositioner({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Positioner>) {\n  return (\n    <BaseCombobox.Positioner\n      data-slot=\"combobox-positioner\"\n      className={cn(\"outline-none\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxPopup({\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Popup>) {\n  return <BaseCombobox.Popup data-slot=\"combobox-popup\" {...props} />;\n}\n\nfunction ComboboxArrow({\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Arrow>) {\n  return <BaseCombobox.Arrow data-slot=\"combobox-arrow\" {...props} />;\n}\n\nfunction ComboboxStatus({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Status>) {\n  return (\n    <BaseCombobox.Status\n      data-slot=\"combobox-status\"\n      className={cn(\n        \"p-3 text-xs text-center text-muted-foreground flex gap-2 items-center empty:m-0 empty:p-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxEmpty({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Empty>) {\n  return (\n    <BaseCombobox.Empty\n      data-slot=\"combobox-empty\"\n      className={cn(\n        \"p-3 text-xs text-center text-muted-foreground empty:m-0 empty:p-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxCollection({\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Collection>) {\n  return <BaseCombobox.Collection data-slot=\"combobox-collection\" {...props} />;\n}\n\nfunction ComboboxRow({\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Row>) {\n  return <BaseCombobox.Row data-slot=\"combobox-row\" {...props} />;\n}\n\nfunction ComboboxItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Item>) {\n  return (\n    <BaseCombobox.Item\n      data-slot=\"combobox-item\"\n      className={cn(\n        \"flex gap-2 py-1.5 pl-3.5 pr-8 text-sm\",\n        \"select-none cursor-default outline-none\",\n        \"data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxItemIndicator({\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.ItemIndicator>) {\n  return (\n    <BaseCombobox.ItemIndicator\n      data-slot=\"combobox-item-indicator\"\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Group>) {\n  return (\n    <BaseCombobox.Group\n      data-slot=\"combobox-group\"\n      className={cn(\"mb-1 last:mb-0\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxGroupLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.GroupLabel>) {\n  return (\n    <BaseCombobox.GroupLabel\n      data-slot=\"combobox-group-label\"\n      className={cn(\n        \"px-3 py-1 text-xs text-muted-foreground font-medium uppercase\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Separator>) {\n  return (\n    <BaseCombobox.Separator\n      data-slot=\"combobox-separator\"\n      className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction ComboboxInputGroup({\n  className,\n  showTrigger = false,\n  showClear = false,\n  variant = \"default\",\n  inputSize = \"default\",\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Input> & {\n  showTrigger?: boolean;\n  showClear?: boolean;\n  variant?: VariantProps<typeof inputVariants>[\"variant\"];\n  inputSize?: VariantProps<typeof inputVariants>[\"inputSize\"];\n}) {\n  const paddingClass =\n    showTrigger && showClear\n      ? \"pr-14\"\n      : showTrigger || showClear\n        ? \"pr-8\"\n        : \"pr-3\";\n\n  return (\n    <div\n      data-slot=\"combobox-input-group\"\n      className={cn(\"relative w-full\", className)}\n    >\n      <BaseCombobox.Input\n        data-slot=\"combobox-input\"\n        className={cn(inputVariants({ variant, inputSize }), paddingClass)}\n        {...props}\n      />\n      <div className=\"absolute right-1 top-0 h-full flex items-center pr-1\">\n        {showClear && (\n          <BaseCombobox.Clear\n            data-slot=\"combobox-clear\"\n            aria-label=\"Clear selection\"\n            className={cn(\n              \"outline-none p-1 rounded-md bg-transparent text-foreground hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/60 transition-all\",\n              \"pointer-coarse:after:absolute pointer-coarse:after:min-h-10 pointer-coarse:after:min-w-10\",\n              \"[&_svg:not([class*='size-'])]:size-3.5 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:text-muted-foreground\",\n            )}\n          >\n            <X />\n          </BaseCombobox.Clear>\n        )}\n        {showTrigger && (\n          <BaseCombobox.Trigger\n            data-slot=\"combobox-trigger\"\n            className={cn(\n              \"outline-none p-1 rounded-md bg-transparent hover:bg-accent dark:hover:bg-accent/60 transition-colors\",\n              \"pointer-coarse:after:absolute pointer-coarse:after:min-h-10 pointer-coarse:after:min-w-10\",\n            )}\n          >\n            <BaseCombobox.Icon\n              data-slot=\"combobox-icon\"\n              className=\"[&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:text-muted-foreground\"\n            >\n              <ChevronDown />\n            </BaseCombobox.Icon>\n          </BaseCombobox.Trigger>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction ComboboxContent({\n  className,\n  children,\n  sideOffset = 6,\n  align = \"start\",\n  matchAnchorWidth = true,\n  positionerAnchor,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Popup> & {\n  sideOffset?: BaseCombobox.Positioner.Props[\"sideOffset\"];\n  align?: BaseCombobox.Positioner.Props[\"align\"];\n  matchAnchorWidth?: boolean;\n  positionerAnchor?: React.RefObject<HTMLDivElement | null>;\n}) {\n  return (\n    <BaseCombobox.Portal data-slot=\"combobox-portal\">\n      <BaseCombobox.Positioner\n        data-slot=\"combobox-positioner\"\n        sideOffset={sideOffset}\n        align={align}\n        anchor={positionerAnchor}\n      >\n        <BaseCombobox.Popup\n          data-slot=\"combobox-content\"\n          className={cn(\n            \"bg-popover text-popover-foreground rounded-sm shadow-md\",\n            \"outline outline-1 outline-border dark:-outline-offset-1\",\n            \"overflow-hidden overflow-y-auto\",\n            \"max-w-[var(--available-width)] max-h-[min(23rem,var(--available-height))]\",\n            \"animate-popup\",\n            matchAnchorWidth && \"w-[var(--anchor-width)]\",\n            className,\n          )}\n          {...props}\n        >\n          {children}\n        </BaseCombobox.Popup>\n      </BaseCombobox.Positioner>\n    </BaseCombobox.Portal>\n  );\n}\n\ninterface ComboboxItemContentProps\n  extends React.ComponentProps<typeof BaseCombobox.Item> {\n  indicatorPlacement?: \"start\" | \"end\" | \"none\";\n  indicatorIcon?: React.ReactNode;\n}\n\nfunction ComboboxItemContent({\n  className,\n  children,\n  indicatorPlacement = \"start\",\n  indicatorIcon = <Check />,\n  ...props\n}: ComboboxItemContentProps) {\n  return (\n    <BaseCombobox.Item\n      data-slot=\"combobox-item-content\"\n      className={cn(\n        \"grid items-center gap-2 py-1.5 pl-3.5 text-sm\",\n        \"outline-none select-none cursor-default\",\n        \"data-[highlighted]:relative data-[highlighted]:z-0 data-[highlighted]:before:bg-accent data-[highlighted]:text-accent-foreground data-[highlighted]:before:absolute data-[highlighted]:before:inset-x-1 data-[highlighted]:before:inset-y-0 data-[highlighted]:before:z-[-1] data-[highlighted]:before:rounded-sm\",\n        \"data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n        indicatorPlacement === \"start\" && \"grid-cols-[1rem_1fr] pr-8\",\n        indicatorPlacement === \"end\" && \"grid-cols-[1fr_1rem] pr-3\",\n        indicatorPlacement === \"none\" && \"grid-cols-1\",\n        className,\n      )}\n      {...props}\n    >\n      {indicatorPlacement !== \"none\" && (\n        <BaseCombobox.ItemIndicator\n          data-slot=\"combobox-item-indicator\"\n          className={cn(\n            \"flex items-center justify-center row-start-1\",\n            \"[&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground\",\n            indicatorPlacement === \"start\" ? \"col-start-1\" : \"col-start-2\",\n          )}\n        >\n          {indicatorIcon}\n        </BaseCombobox.ItemIndicator>\n      )}\n      <div\n        className={cn(\n          \"flex items-center gap-2 row-start-1\",\n          indicatorPlacement === \"start\" ? \"col-start-2\" : \"col-start-1\",\n        )}\n      >\n        {children}\n      </div>\n    </BaseCombobox.Item>\n  );\n}\n\nconst useComboboxFilter = BaseCombobox.useFilter;\n\nexport {\n  Combobox,\n  ComboboxValue,\n  ComboboxIcon,\n  ComboboxInput,\n  ComboboxClear,\n  ComboboxTrigger,\n  ComboboxChips,\n  ComboboxChip,\n  ComboboxChipRemove,\n  ComboboxList,\n  ComboboxPortal,\n  ComboboxBackdrop,\n  ComboboxPositioner,\n  ComboboxPopup,\n  ComboboxArrow,\n  ComboboxEmpty,\n  ComboboxGroupLabel,\n  ComboboxItem,\n  ComboboxSeparator,\n  ComboboxGroup,\n  ComboboxItemIndicator,\n  ComboboxRow,\n  ComboboxStatus,\n  ComboboxCollection,\n  useComboboxFilter,\n  // Composite components\n  ComboboxInputGroup,\n  ComboboxContent,\n  ComboboxItemContent,\n};\n",
      "type": "registry:ui"
    }
  ]
}