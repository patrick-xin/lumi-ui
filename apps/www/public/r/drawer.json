{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "drawer",
  "title": "Drawer",
  "description": "An overlay panel that slides from the viewport edge.",
  "dependencies": [
    "@base-ui/react",
    "class-variance-authority",
    "lucide-react"
  ],
  "registryDependencies": [
    "@lumi-ui/button",
    "utils"
  ],
  "files": [
    {
      "path": "registry/ui/drawer.tsx",
      "content": "\"use client\";\n\nimport { DrawerPreview as BaseDrawer } from \"@base-ui/react/drawer\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { XIcon } from \"lucide-react\";\nimport type * as React from \"react\";\nimport { cn } from \"@/registry/lib/utils\";\nimport { Button } from \"@/registry/ui/button\";\n\nfunction DrawerProvider(props: BaseDrawer.Provider.Props) {\n  return <BaseDrawer.Provider data-slot=\"drawer-provider\" {...props} />;\n}\n\nfunction DrawerIndent(props: BaseDrawer.Indent.Props) {\n  return <BaseDrawer.Indent data-slot=\"drawer-indent\" {...props} />;\n}\n\nfunction DrawerIndentBackground({\n  className,\n  ...props\n}: BaseDrawer.IndentBackground.Props) {\n  return (\n    <BaseDrawer.IndentBackground\n      className={cn(\n        \"fixed inset-0 pointer-events-none transition-transform duration-200 ease-out\",\n        className,\n      )}\n      data-slot=\"drawer-indent-background\"\n      {...props}\n    />\n  );\n}\n\nfunction Drawer<Payload>({ ...props }: BaseDrawer.Root.Props<Payload>) {\n  return <BaseDrawer.Root data-slot=\"drawer\" {...props} />;\n}\n\nfunction DrawerTrigger<Payload>({\n  ...props\n}: BaseDrawer.Trigger.Props<Payload>) {\n  return <BaseDrawer.Trigger data-slot=\"drawer-trigger\" {...props} />;\n}\n\nfunction DrawerPortal(props: BaseDrawer.Portal.Props) {\n  return <BaseDrawer.Portal data-slot=\"drawer-portal\" {...props} />;\n}\n\nfunction DrawerBackdrop({ className, ...props }: BaseDrawer.Backdrop.Props) {\n  return (\n    <BaseDrawer.Backdrop\n      className=\"bg-black/20 backdrop-blur-xs fixed inset-0 min-h-dvh [--bleed:3rem] opacity-[calc(var(--backdrop-opacity)*(1-var(--drawer-swipe-progress)))] data-[swiping]:duration-0 data-[ending-style]:opacity-0 data-[starting-style]:opacity-0 data-[ending-style]:duration-[calc(var(--drawer-swipe-strength)*400ms)] supports-[-webkit-touch-callout:none]:absolute animate-fade\"\n      data-slot=\"drawer-backdrop\"\n      {...props}\n    />\n  );\n}\n\nfunction DrawerViewport({ className, ...props }: BaseDrawer.Viewport.Props) {\n  return (\n    <BaseDrawer.Viewport\n      className={cn(\n        \"fixed inset-0 flex justify-center overflow-hidden outline-none\",\n        className,\n      )}\n      data-slot=\"drawer-viewport\"\n      {...props}\n    />\n  );\n}\n\nfunction DrawerPopup({\n  className,\n  children,\n  ...props\n}: BaseDrawer.Popup.Props) {\n  return (\n    <BaseDrawer.Popup\n      className={cn(\"bg-background text-foreground w-full\", className)}\n      data-slot=\"drawer-popup\"\n      {...props}\n    >\n      {children}\n    </BaseDrawer.Popup>\n  );\n}\n\nfunction DrawerInnerContent(props: BaseDrawer.Content.Props) {\n  return <BaseDrawer.Content data-slot=\"drawer-inner-content\" {...props} />;\n}\n\nfunction DrawerClose(props: BaseDrawer.Close.Props) {\n  return <BaseDrawer.Close data-slot=\"drawer-close\" {...props} />;\n}\n\nfunction DrawerTitle(props: BaseDrawer.Title.Props) {\n  const { className, ...rest } = props;\n  return (\n    <BaseDrawer.Title\n      className={cn(\"text-lg font-semibold\", className)}\n      data-slot=\"drawer-title\"\n      {...rest}\n    />\n  );\n}\n\nfunction DrawerDescription(props: BaseDrawer.Description.Props) {\n  const { className, ...rest } = props;\n  return (\n    <BaseDrawer.Description\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      data-slot=\"drawer-description\"\n      {...rest}\n    />\n  );\n}\n\nfunction DrawerHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      className={cn(\"flex flex-col gap-1.5 pr-12\", className)}\n      data-slot=\"drawer-header\"\n      {...props}\n    />\n  );\n}\n\nfunction DrawerFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      className={cn(\n        \"mt-4 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className,\n      )}\n      data-slot=\"drawer-footer\"\n      {...props}\n    />\n  );\n}\n\nconst drawerViewportVariants = cva(\"fixed inset-0 outline-none\", {\n  defaultVariants: {\n    behavior: \"default\",\n    side: \"bottom\",\n  },\n  variants: {\n    behavior: {\n      default: \"\",\n      snap: \"touch-none\",\n    },\n    side: {\n      bottom: \"flex items-end justify-center\",\n      left: \"flex items-stretch justify-start p-[var(--drawer-viewport-padding)] [--drawer-viewport-padding:0px] supports-[-webkit-touch-callout:none]:[--drawer-viewport-padding:0.625rem]\",\n      right:\n        \"flex items-stretch justify-end p-[var(--drawer-viewport-padding)] [--drawer-viewport-padding:0px] supports-[-webkit-touch-callout:none]:[--drawer-viewport-padding:0.625rem]\",\n      top: \"flex items-start justify-center\",\n    },\n  },\n});\n\nconst drawerPopupVariants = cva(\n  cn(\n    \"relative min-h-0 flex flex-col bg-background text-foreground shadow-lg outline-1 outline-border dark:-outline-offset-1\",\n    \"overflow-hidden\",\n    \"transition-[transform,box-shadow,height,padding] duration-[450ms] ease-[cubic-bezier(0.32,0.72,0,1)]\",\n    \"drawer-popup-motion\",\n  ),\n  {\n    defaultVariants: {\n      behavior: \"default\",\n      side: \"bottom\",\n      size: \"default\",\n      stacked: false,\n    },\n    variants: {\n      behavior: {\n        default: \"\",\n        snap: \"min-h-0 flex flex-col overflow-visible touch-none\",\n      },\n      side: {\n        bottom: cn(\n          \"[--drawer-bleed:3rem]\",\n          \"-mb-[var(--drawer-bleed)] w-full max-h-[calc(80vh+var(--drawer-bleed))]\",\n          \"rounded-t-2xl rounded-b-none px-6 pt-4 pb-[calc(1.5rem+env(safe-area-inset-bottom,0px)+var(--drawer-bleed))]\",\n          \"drawer-popup-motion-bottom\",\n        ),\n        left: cn(\n          \"[--drawer-bleed:3rem] supports-[-webkit-touch-callout:none]:[--drawer-bleed:0px]\",\n          \"-ml-[var(--drawer-bleed)] h-full w-[calc(var(--drawer-size)+var(--drawer-bleed))] max-w-[calc(100vw-3rem+var(--drawer-bleed))]\",\n          \"rounded-r-2xl rounded-l-none p-6 pl-[calc(1.5rem+var(--drawer-bleed))]\",\n          \"supports-[-webkit-touch-callout:none]:ml-0 supports-[-webkit-touch-callout:none]:w-[var(--drawer-size)] supports-[-webkit-touch-callout:none]:max-w-[calc(100vw-20px)] supports-[-webkit-touch-callout:none]:rounded-2xl supports-[-webkit-touch-callout:none]:pl-6\",\n          \"drawer-popup-motion-left\",\n        ),\n        right: cn(\n          \"[--drawer-bleed:3rem] supports-[-webkit-touch-callout:none]:[--drawer-bleed:0px]\",\n          \"-mr-[var(--drawer-bleed)] h-full w-[calc(var(--drawer-size)+var(--drawer-bleed))] max-w-[calc(100vw-3rem+var(--drawer-bleed))]\",\n          \"rounded-l-2xl rounded-r-none p-6 pr-[calc(1.5rem+var(--drawer-bleed))]\",\n          \"supports-[-webkit-touch-callout:none]:mr-0 supports-[-webkit-touch-callout:none]:w-[var(--drawer-size)] supports-[-webkit-touch-callout:none]:max-w-[calc(100vw-20px)] supports-[-webkit-touch-callout:none]:rounded-2xl supports-[-webkit-touch-callout:none]:pr-6\",\n          \"drawer-popup-motion-right\",\n        ),\n        top: cn(\n          \"[--drawer-bleed:3rem]\",\n          \"-mt-[var(--drawer-bleed)] w-full max-h-[calc(80vh+var(--drawer-bleed))]\",\n          \"rounded-b-2xl rounded-t-none px-6 pb-4 pt-[calc(1.5rem+env(safe-area-inset-top,0px)+var(--drawer-bleed))]\",\n          \"drawer-popup-motion-top\",\n        ),\n      },\n      size: {\n        default: \"[--drawer-size:24rem]\",\n        lg: \"[--drawer-size:28rem]\",\n        sm: \"[--drawer-size:20rem]\",\n      },\n      stacked: {\n        false: \"\",\n        true: \"drawer-popup-stacked-motion\",\n      },\n    },\n  },\n);\n\nconst drawerBodyVariants = cva(\n  \"w-full flex flex-col gap-4 min-h-0 flex-1 overflow-y-auto overscroll-contain touch-auto\",\n  {\n    defaultVariants: {\n      align: \"default\",\n      behavior: \"default\",\n      stacked: false,\n    },\n    variants: {\n      align: {\n        centered: \"mx-auto max-w-[32rem]\",\n        default: \"\",\n      },\n      behavior: {\n        default: \"\",\n        snap: \"\",\n      },\n      stacked: {\n        false: \"\",\n        true: \"drawer-content-stacked-motion\",\n      },\n    },\n  },\n);\n\ninterface DrawerContentProps\n  extends Omit<BaseDrawer.Popup.Props, \"children\">,\n    VariantProps<typeof drawerViewportVariants>,\n    VariantProps<typeof drawerPopupVariants>,\n    VariantProps<typeof drawerBodyVariants> {\n  children: React.ReactNode;\n  contentProps?: Omit<BaseDrawer.Content.Props, \"children\" | \"className\">;\n  showCloseButton?: boolean;\n  showHandle?: boolean;\n}\n\nfunction isVerticalSide(side: \"bottom\" | \"left\" | \"right\" | \"top\") {\n  return side === \"bottom\" || side === \"top\";\n}\n\nfunction DrawerContent({\n  children,\n  className,\n  showCloseButton = false,\n  showHandle,\n  side = \"bottom\",\n  behavior = \"default\",\n  size = \"default\",\n  stacked = false,\n  align = \"default\",\n  contentProps,\n  ...props\n}: DrawerContentProps) {\n  const resolvedSide = side ?? \"bottom\";\n  const resolvedBehavior = isVerticalSide(resolvedSide)\n    ? (behavior ?? \"default\")\n    : \"default\";\n  const resolvedStacked = stacked ?? false;\n\n  return (\n    <DrawerPortal>\n      <DrawerBackdrop />\n      <BaseDrawer.Viewport\n        className={cn(\n          drawerViewportVariants({\n            behavior: resolvedBehavior,\n            side: resolvedSide,\n          }),\n        )}\n        data-slot=\"drawer-content-viewport\"\n      >\n        <BaseDrawer.Popup\n          className={cn(\n            drawerPopupVariants({\n              behavior: resolvedBehavior,\n              side: resolvedSide,\n              size: size ?? \"default\",\n              stacked: resolvedStacked,\n            }),\n            resolvedBehavior === \"snap\" &&\n              resolvedSide === \"bottom\" &&\n              \"drawer-popup-snap-bottom-motion\",\n            className,\n          )}\n          data-slot=\"drawer-content\"\n          {...props}\n        >\n          {showHandle && (\n            <div\n              className={cn(\n                \"mx-auto mb-4 h-1.5 w-12 rounded-full bg-muted-foreground/30\",\n                resolvedSide === \"top\" && \"order-last mb-0 mt-4\",\n              )}\n              data-slot=\"drawer-handle\"\n            />\n          )}\n\n          <BaseDrawer.Content\n            className={cn(\n              drawerBodyVariants({\n                align: align ?? \"default\",\n                behavior: resolvedBehavior,\n                stacked: resolvedStacked,\n              }),\n            )}\n            data-slot=\"drawer-content-body\"\n            {...contentProps}\n          >\n            {children}\n          </BaseDrawer.Content>\n\n          {showCloseButton && (\n            <BaseDrawer.Close\n              aria-label=\"Close\"\n              className={cn(\n                \"absolute top-3 z-10\",\n                resolvedSide === \"right\"\n                  ? \"right-[calc(var(--drawer-bleed,0px)+0.75rem)]\"\n                  : \"right-3\",\n              )}\n              data-slot=\"drawer-close\"\n              render={<Button size=\"icon-sm\" variant=\"ghost\" />}\n            >\n              <XIcon className=\"size-4\" />\n              <span className=\"sr-only\">Close</span>\n            </BaseDrawer.Close>\n          )}\n        </BaseDrawer.Popup>\n      </BaseDrawer.Viewport>\n    </DrawerPortal>\n  );\n}\n\nconst createDrawerHandle = BaseDrawer.createHandle;\n\nexport {\n  Drawer,\n  DrawerProvider,\n  DrawerIndent,\n  DrawerIndentBackground,\n  DrawerTrigger,\n  DrawerPortal,\n  DrawerViewport,\n  DrawerBackdrop,\n  DrawerPopup,\n  DrawerInnerContent,\n  DrawerClose,\n  DrawerTitle,\n  DrawerDescription,\n  DrawerHeader,\n  DrawerFooter,\n  createDrawerHandle,\n  // Composite component\n  DrawerContent,\n};\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}