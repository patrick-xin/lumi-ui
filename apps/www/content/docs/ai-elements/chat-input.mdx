---
title: Chat Input
description: A conversational input component with support for smooth animations, attachments, attachment preview and customizable actions.
---

<ComponentPreview name="chat-input-demo" />

## Installation

<CodeTabs>
  <TabsList>
    <TabsTab value="cli">CLI</TabsTab>
    <TabsTab value="manual">Manual</TabsTab>
  </TabsList>

  <TabsPanel value="cli">
    ```bash
    npx shadcn@latest add chat-input
    ```
  </TabsPanel>

  <TabsPanel value="manual">
    <Steps>
      <Step title="Copy and paste the following code into your project.">
        <ComponentSourceCode name="chat-input" title="chat-input.tsx" collapsible/>
      </Step>
      <Step title="Update the import paths to match your project setup."/>
    </Steps>
  </TabsPanel>
</CodeTabs>

## Anatomy

<Tabs defaultValue="common">
  <TabsList>
    <TabsTab value="common">Common usage</TabsTab>
    <TabsTab value="primitive">Primitive usage</TabsTab>
  </TabsList>

  <TabsPanel value="common">
     ```tsx
     <ChatInput
       value={value}
       onValueChange={setValue}
       onSubmit={handleSubmit}
       attachments={attachments}
       onAttachClick={handleAttach}
     />
     ```
  </TabsPanel>

  <TabsPanel value="primitive">
    ```tsx
    <ChatInputRoot>
      <ChatInputTextarea />
      <ChatInputToolbar>
        <ChatInputActions>
          <ChatInputAttachButton />
        </ChatInputActions>
        <ChatInputActions>
          <ChatInputSubmitButton />
        </ChatInputActions>
      </ChatInputToolbar>
      <ChatInputAttachments>
        <ChatInputAttachmentItem>
          <ChatInputAttachmentLabel />
          <ChatInputAttachmentMeta />
          <ChatInputAttachmentRemove />
        </ChatInputAttachmentItem>
      </ChatInputAttachments>
    </ChatInputRoot>
    ```
  </TabsPanel>
</Tabs>

## Basic Usage

<ComponentPreview name="chat-input-basic" />

## Custom Primitive
The `ChatInput` primitives allow for complete control over the layout and styling, enabling custom interfaces like this one with a different arrangement of actions and attachments.

<ComponentPreview name="chat-input-custom" />

## API Reference

### ChatInput

A high-level composite component that handles auto-resizing, attachments, and common chat actions out of the box.

| Prop | Type | Description |
| :--- | :--- | :--- |
| `value` | `string` | The current text value of the input. |
| `onValueChange` | `(value: string) => void` | Callback fired when the text value changes. |
| `onSubmit` | `() => void` | Callback fired when the message is submitted. |
| `attachments` | `ChatInputAttachmentData[]` | Array of attachment objects to display. |
| `attachmentPosition` | `"top" \| "bottom"` | Whether to render attachments above or below the text area. |
| `onAttachClick` | `() => void` | Callback fired when the attachment button is clicked. |
| `onRemoveAttachment` | `(id: string) => void` | Callback fired when an attachment removal button is clicked. |
| `isSubmitting` | `boolean` | Whether the input is in a loading/submitting state. |
| `disabled` | `boolean` | Whether the input and all actions are disabled. |
| `placeholder` | `string` | Placeholder text for the textarea. |
| `leftActions` | `React.ReactNode` | Additional actions to render on the left side of the toolbar. |
| `rightActions` | `React.ReactNode` | Additional actions to render on the right side of the toolbar. |
| `enableAttachmentPreview` | `boolean` | Whether to enable the built-in attachment preview dialog. |
| `renderAttachment` | `(attachment: ChatInputAttachmentData) => React.ReactNode` | Custom renderer for attachment items. |
| `renderAttachmentPreview` | `(attachment: ChatInputAttachmentData) => React.ReactNode` | Custom renderer for the attachment preview dialog content. |

### ChatInputAttachmentData

Interface for attachment objects used in `ChatInput`.

| Property | Type | Description |
| :--- | :--- | :--- |
| `id` | `string` | Unique identifier for the attachment. |
| `label` | `string` | The display name or filename. |
| `kind` | `string` | (Optional) The type of attachment (e.g., "pdf", "image"). |
| `meta` | `string` | (Optional) Additional info like file size. |
| `previewImageUrl` | `string` | (Optional) URL for image preview. |
| `previewText` | `string` | (Optional) Content for text-based preview. |
| `previewAlt` | `string` | (Optional) Alt text for image preview. |

### ChatInputRoot

The main container for the chat input primitives. Renders a `motion.div`.

### ChatInputTextarea

A specialized auto-resizing textarea for chat messages. Renders a `motion.textarea`.

| Prop | Type | Description |
| :--- | :--- | :--- |
| `value` | `string` | The current value of the textarea. |
| `onValueChange` | `(value: string) => void` | Callback fired when the value changes. |
| `minHeight` | `number` | Minimum height of the textarea in pixels. |
| `maxHeight` | `number` | Maximum height of the textarea in pixels. |
| `submitOnEnter` | `boolean` | Whether to trigger `onSubmitShortcut` when Enter is pressed (without Shift). |
| `onSubmitShortcut` | `() => void` | Callback for the submit keyboard shortcut. |

### ChatInputToolbar

A container for the action buttons. Renders a `motion.div`. It is styled to sit typically below the textarea.

### ChatInputActions

A container for grouping action buttons within the toolbar. Renders a `div`.

### ChatInputAttachButton

A pre-styled button for triggering file attachments. Renders a `Button`.

### ChatInputSubmitButton

A pre-styled button for submitting the message, with built-in loading state support. Renders a `Button`.

| Prop | Type | Description |
| :--- | :--- | :--- |
| `isSubmitting` | `boolean` | Renders a loading spinner and disables the button if true. |
| `ariaLabel` | `string` | Accessibility label for the button. |

### ChatInputAttachments

A container for displaying a list of attachments with a smooth height animation. Renders a `motion.div`.

| Prop | Type | Description |
| :--- | :--- | :--- |
| `position` | `"top" \| "bottom"` | Used for internal styling of borders. |

### ChatInputAttachmentItem

The container for an individual attachment item. Renders a `motion.div`.

### ChatInputAttachmentLabel

The label or filename component for an attachment. Renders a `div`.

### ChatInputAttachmentMeta

The metadata component (e.g., file size) for an attachment. Renders a `div`.

### ChatInputAttachmentRemove

A button to remove an attachment from the list. Renders a `Button`.

### ChatInputAttachmentPreviewDialog

A dialog component to preview attachments like images or text files. Renders a `Dialog`.

| Prop | Type | Description |
| :--- | :--- | :--- |
| `attachment` | `ChatInputAttachmentData \| null` | The attachment to be previewed. |
| `open` | `boolean` | Controls the visibility of the dialog. |
| `onOpenChange` | `(open: boolean) => void` | Callback fired when the open state changes. |
| `renderPreview` | `(attachment: ChatInputAttachmentData) => React.ReactNode` | Custom renderer for the preview content. |
